---
// Import necessary components
import MainLayout from "@/layouts/MainLayout.astro";
import MainSection from "@components/ui/blocks/MainSection.astro";
import LeftSection from "@components/ui/blocks/LeftSection.astro";
import RightSection from "@components/ui/blocks/RightSection.astro";
import FeaturesStats from "@components/sections/features/FeaturesStats.astro";
import { getRelativeLocaleUrl } from 'astro:i18n';

// Import necessary images
import blueprints from "@images/blueprints-image.avif";
import personWorking from "@images/person-working.avif";
import beforeAfter from "@images/before-after.avif";
import constructionWorkers from "@images/construction-workers.avif";
import aerialView from "@images/aerial-view.avif";
import usingTools from "@images/using-tools.avif";
import progressBuilding from "@images/progress-building.avif";
import underConstruction from "@images/under-construction.avif";
import dashboard from "@images/dashboard-image.avif";

interface Article {
  isRightSection: boolean;
  title: string;
  subTitle: string;
  btnExists?: boolean;
  btnTitle?: string;
  btnURL?: string;
  single?: boolean;
  img?: any;
  imgAlt?: string;
  imgOne?: any;
  imgOneAlt?: string;
  imgTwo?: any;
  imgTwoAlt?: string;
}

const articles: Article[] = [
  {
    isRightSection: false,
    title: "Restauration & Catering multisectoriel",
    subTitle:
      "MAFA propose des solutions de restauration pour les chantiers, mines, hôpitaux, institutions et événements. Une expertise logistique et sanitaire rigoureuse garantit un service fiable et constant.",
    img: personWorking,
    imgAlt: "Service de restauration et catering MAFA",
    btnExists: true,
    btnTitle: "En savoir plus",
    btnURL: "#",
  },
  {
    isRightSection: true,
    title: "Nettoyage & Entretien professionnel",
    subTitle:
      "Prestations de nettoyage industriel, bureaux, hôtels, cuisines, hôpitaux. Des équipes formées et des produits certifiés garantissent des environnements sains et conformes aux normes QHSE.",
    single: false,
    imgOne: usingTools,
    imgOneAlt: "Équipe de nettoyage professionnel",
    imgTwo: beforeAfter,
    imgTwoAlt: "Nettoyage et entretien professionnel",
    btnExists: true,
    btnTitle: "En savoir plus",
    btnURL: "#",
  },
  {
    isRightSection: false,
    title: "Fourniture & Logistique hôtelière",
    subTitle:
      "Approvisionnement et livraison de matériels, consommables, équipements hôteliers et cuisines professionnelles.",
    img: dashboard,
    imgAlt: "Logistique et fourniture hôtelière",
    btnExists: true,
    btnTitle: "En savoir plus",
    btnURL: "#",
  },
  {
    isRightSection: true,
    title: "Formation & Placement culinaire",
    subTitle:
      "MAFA forme des cuisiniers qualifiés, puis les place dans des structures partenaires (restaurants, hôtels, chantiers). Programme complet : théorie, pratique, certification, insertion.",
    single: false,
    imgOne: constructionWorkers,
    imgOneAlt: "Formation culinaire MAFA",
    imgTwo: blueprints,
    imgTwoAlt: "Programme de formation et placement",
    btnExists: true,
    btnTitle: "En savoir plus",
    btnURL: "#",
  },
  {
    isRightSection: false,
    title: "Transformation & Production agroalimentaire",
    subTitle:
      "MAFA développe une activité de transformation de produits locaux en denrées alimentaires à valeur ajoutée. L'objectif : soutenir les circuits courts et renforcer la sécurité alimentaire.",
    img: progressBuilding,
    imgAlt: "Transformation et production agroalimentaire",
    btnExists: true,
    btnTitle: "En savoir plus",
    btnURL: "#",
  },
  {
    isRightSection: true,
    title: "Conseil, maintenance et partenariats",
    subTitle:
      "Accompagnement des structures dans la mise en œuvre de services supports (restauration, nettoyage, maintenance). MAFA agit aussi comme facilitateur de partenariats africains durables.",
    single: false,
    imgOne: aerialView,
    imgOneAlt: "Conseil et accompagnement MAFA",
    imgTwo: underConstruction,
    imgTwoAlt: "Partenariats et maintenance",
    btnExists: true,
    btnTitle: "En savoir plus",
    btnURL: "#",
  },
];
---

<MainLayout
  title="Nos activités | MAFA"
  lang="fr"
  structuredData={{
    "@context": "https://schema.org",
    "@type": "WebPage",
    "@id": "https://mafa.com/fr/services",
    url: "https://mafa.com/fr/services",
    name: "Nos activités | MAFA",
    description:
      "Découvrez les six pôles d'activité de MAFA : restauration, nettoyage, logistique hôtelière, formation culinaire, transformation agroalimentaire et services stratégiques.",
    isPartOf: {
      "@type": "WebSite",
      url: "https://mafa.com/fr",
      name: "MAFA",
      description:
        "MAFA est une entreprise multisectorielle engagée en Afrique dans six domaines complémentaires.",
    },
    inLanguage: "fr",
  }}
>
  {/* MainSection is the introductory section of the page */}
  <MainSection
    title="Nos activités"
    subTitle="MAFA opère dans six domaines complémentaires pour répondre à vos besoins en restauration, nettoyage, logistique, formation, transformation agroalimentaire et services stratégiques. Découvrez nos solutions intégrées et notre expertise multisectorielle."
    btnExists={false}
  />
  {/* RightSection and LeftSection contain details about various services along with pertinent imagery.
  They alternate for variety in design.
  The 'btnExists' property is used to toggle the display of a button in these sections.
  When btnExists={true}, a button is displayed.
  This can be used to link to more detailed information or related resources.
  RightSection can also conditionally render one or two images based on the 'single' property.
  If 'single' is true, it displays one image, otherwise it displays two.
  */}
  {
    articles.map((article) => {
      return article.isRightSection ? (
        <RightSection
          title={article.title}
          subTitle={article.subTitle}
          single={article.single}
          imgOne={article.imgOne}
          imgOneAlt={article.imgOneAlt}
          imgTwo={article.imgTwo}
          imgTwoAlt={article.imgTwoAlt}
          btnExists={article.btnExists}
          btnTitle={article.btnTitle}
          btnURL={article.btnURL}
        />
      ) : (
        <LeftSection
          title={article.title}
          subTitle={article.subTitle}
          img={article.img}
          imgAlt={article.imgAlt}
          btnExists={article.btnExists}
          btnTitle={article.btnTitle}
          btnURL={article.btnURL}
        />
      );
    })
  }
  {/* FeaturesStats section showcases essential stats valuable to users */}
  <FeaturesStats
    title="Par les chiffres"
    subTitle="Notre engagement envers la qualité et la fiabilité est évident dans chaque projet que nous entreprenons. MAFA s'engage à fournir des services de premier plan qui garantissent l'excellence opérationnelle et le développement durable."
    mainStatTitle="6"
    mainStatSubTitle="pôles d'activité complémentaires pour répondre à tous vos besoins"
    stats={[
      {
        stat: "100%",
        description: "conformité aux normes QHSE",
      },
      {
        stat: "Multi",
        description: "secteurs d'intervention",
      },
      {
        stat: "Panafricain",
        description: "présence et expertise",
      },
    ]}
  />
</MainLayout>
