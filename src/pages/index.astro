---
// Import the necessary components
import MainLayout from "@/layouts/MainLayout.astro";
import HeroSection from "@components/sections/landing/HeroSection.astro";
import HeroSectionAlt from "@components/sections/landing/HeroSectionAlt.astro";
import ClientsSection from "@components/sections/landing/ClientsSection.astro";
import FeaturesGeneral from "@components/sections/features/FeaturesGeneral.astro";
import FeaturesNavs from "@components/sections/features/FeaturesNavs.astro";
import TestimonialsSection from "@components/sections/testimonials/TestimonialsSection.astro";
import PricingSection from "@components/sections/pricing/PricingSection.astro";
import FAQ from "@components/sections/misc/FAQ.astro";
import heroImage from "@images/marmite.png";
import forafricain from "@images/new/africa.png";
import forafricaJfif from "@images/new/forafrica.png";
import nettoyage from "@images/new/nettoyage.png";
import hotel from "@images/new/hotel.png"
import formation2 from "@images/new/formation.png"
import foodImage from "@images/new/food.png";
import foodImage2 from "@images/new/food2.png";
import mafa from "@images/new/mafa.mp4";
import formation from "@images/new/mafa1.jfif";
import quality from "@images/new/mafa2.jfif";
import faqs from "@data/faqs.json";
import features from "@data/features.json";
import pricing from "@data/pricing.json";
import featureImage from "@images/features-image.avif";
import construction from "@images/construction-image.avif";
import tools from "@images/automated-tools.avif";
import dashboard from "@images/dashboard-image.avif";
import { partnersData } from "@/data_files/constants";
import TypedText from "@components/ui/TypedText.astro";

const avatarSrcs: Array<string> = [
  "https://images.unsplash.com/photo-1568602471122-7832951cc4c5?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=facearea&facepad=2&w=300&h=300&q=80",
  "https://images.unsplash.com/photo-1531927557220-a9e23c1e4794?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=facearea&facepad=2&w=300&h=300&q=80",
  "https://images.unsplash.com/photo-1541101767792-f9b2b1c4f127?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&&auto=format&fit=facearea&facepad=3&w=300&h=300&q=80",
  "https://images.unsplash.com/photo-1492562080023-ab3db95bfbce?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=facearea&facepad=2&w=300&h=300&q=80",
];

const isFrench = Astro.currentLocale === "fr";
const localizedFeatures = features.map((feature) => {
  const [frHeading, enHeading] = feature.heading.split("·").map((part) => part.trim());
  const [frContent, enContent] = feature.content.split(". ").length > 1
    ? feature.content.split("·").map((part) => part.trim())
    : [feature.content, feature.content];
  return {
    ...feature,
    heading: isFrench ? frHeading || feature.heading : enHeading || feature.heading,
    content: isFrench ? frContent || feature.content : enContent || feature.content,
  };
});
---

<MainLayout>
  <HeroSection
    title="MAFA —"
    rightText={isFrench ? "Multisectorielle|Innovante" : "Multisectoral|Innovative"}
    subTitle={
      isFrench
        ? "L’excellence en restauration, logistique et développement durable. MAFA intervient en Afrique dans la restauration, le nettoyage, la logistique hôtelière, la formation culinaire, la transformation agroalimentaire et le conseil stratégique, avec un haut niveau d’exigence et de responsabilité."
        : "Excellence in catering, logistics, and sustainable development. MAFA operates across catering, cleaning, hotel logistics, culinary training, agro-food processing, and consulting with uncompromising quality, innovation, and responsibility."
    }
    primaryBtn={isFrench ? "Découvrir MAFA" : "Discover MAFA"}
    primaryBtnURL="/services"
    secondaryBtn={isFrench ? "Demander un devis" : "Request a quote"}
    secondaryBtnURL="/contact"
    withReview={false}
    src={heroImage}
    alt={isFrench ? "MAFA - Multisectorielle et innovante" : "MAFA - Multisectoral and innovative"}
    width={500}
    height={500}
  />

  <!-- <ClientsSection
    title={isFrench ? "Ils nous font confiance" : "Trusted by our partners"}
    subTitle={
      isFrench
        ? "MAFA accompagne institutions publiques, groupes privés et organisations internationales partout en Afrique."
        : "MAFA supports public institutions, private groups, and international organizations across Africa."
    }
    partners={partnersData}
  /> -->

  <FeaturesGeneral
    title={isFrench ? "Panorama de nos 6 pôles" : "6 Sectors Overview"}
    subTitle={
      isFrench
        ? "Explorez les six pôles complémentaires qui font de MAFA un partenaire de référence en Afrique."
        : "Discover the six complementary fields that make MAFA a trusted partner across Africa."
    }
    images={[
      { src: forafricain, alt: isFrench ? "Carte de l'Afrique - Présence MAFA" : "Africa map - MAFA presence" },
      { src: nettoyage, alt: isFrench ? "Transformation agroalimentaire MAFA" : "MAFA agro-food processing" },
      { src: hotel, alt: isFrench ? "Transformation agroalimentaire MAFA" : "MAFA agro-food processing" },
      { src: formation2, alt: isFrench ? "Carte de l'Afrique - Présence MAFA" : "Africa map - MAFA presence" },
      { src: formation2, alt: isFrench ? "Transformation agroalimentaire MAFA" : "MAFA agro-food processing" },
      { src: foodImage2, alt: isFrench ? "Transformation agroalimentaire MAFA" : "MAFA agro-food processing" },
    ]}
    width={500}
    height={500}
    features={localizedFeatures}
  />

  <FeaturesNavs
    title={
      isFrench
        ? "Adaptez les solutions MAFA à vos besoins"
        : "Tailor MAFA solutions to your operations"
    }
    tabs={[
      {
        heading: isFrench ? "Restauration & Services alimentaires" : "Catering & Food Services",
        content: isFrench
          ? "Solutions de restauration sur mesure pour sites miniers, hôpitaux, institutions et événements. Services sûrs, hygiéniques et cohérents partout où nos partenaires opèrent."
          : "Tailored food solutions for mining sites, hospitals, institutions, and events. Safe, hygienic, and consistent catering services wherever our partners operate.",
        svg: "tools",
        src: mafa,
        alt: isFrench ? "Services de restauration MAFA" : "MAFA catering services",
        first: true,
        video: true,
      },
      {
        heading: isFrench ? "Formation culinaire & Placement" : "Culinary Training & Placement",
        content: isFrench
          ? "Programmes de formation certifiés pour cuisiniers et chefs, suivis d'un placement dans hôtels, restaurants et institutions partenaires. Théorie, pratique intensive et coaching de carrière."
          : "Certified training programs for cooks and chefs, followed by placement in hotels, restaurants, and partner institutions. Theory, intensive practice, and career coaching.",
        svg: "dashboard",
        src: formation,
        alt: isFrench ? "Formation culinaire MAFA" : "MAFA culinary training",
        second: true,
        width: 1200,
        height: 800,
      },
      {
        heading: isFrench ? "Qualité & Conformité QHSE" : "Quality & QHSE Compliance",
        content: isFrench
          ? "Procédures QHSE rigoureuses, audits réguliers et formation continue pour garantir des standards internationaux dans tous nos secteurs d'activité."
          : "Rigorous QHSE procedures, regular audits, and continuous training to meet international standards across all our service sectors.",
        svg: "house",
        src: quality,
        alt: isFrench ? "Standards qualité MAFA" : "MAFA quality standards",
        width: 1200,
        height: 800,
      },
    ]}
  />

  <TestimonialsSection
    title={
      isFrench
        ? "Accélérez vos projets avec MAFA"
        : "Fast-track your projects with MAFA"
    }
    subTitle={
      isFrench
        ? "Nous déployons des solutions clés en main en quelques semaines sur tout le continent."
        : "We roll out turnkey solutions across Africa within weeks."
    }
    testimonials={[
      {
        content:
          isFrench
            ? "“MAFA a structuré l’ensemble de notre restauration de base vie et assuré la conformité QHSE en un temps record. Leur flexibilité sur le terrain est remarquable.”"
            : "“MAFA structured our camp catering and delivered full QHSE compliance in record time. Their field flexibility is outstanding.”",
        author: "Aïcha Traoré",
        role: "Directrice des opérations | Groupe minier ouest-africain",
        avatarSrc:
          "https://images.unsplash.com/photo-1593104547489-5cfb3839a3b5?q=80&w=1453&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D8&auto=format&fit=facearea&facepad=2&w=320&h=320&q=80",
      },
    ]}
    statistics={[
      {
        count: "250+",
        description: isFrench
          ? "projets multisectoriels livrés"
          : "multisector projects delivered",
      },
      {
        count: isFrench ? "15 pays" : "15 countries",
        description: isFrench
          ? "présence opérationnelle en Afrique"
          : "operational presence across Africa",
      },
      {
        count: "98%",
        description: isFrench
          ? "taux de satisfaction clients"
          : "client satisfaction rate",
      },
      {
        count: "24/7",
        description: "support & supervision",
      },
    ]}
  />

  <!-- <PricingSection pricing={pricing} /> -->

  <FAQ title="Frequently<br />asked questions" faqs={faqs} />

  <!-- <HeroSectionAlt
    title={
      isFrench
        ? "Construisons ensemble avec MAFA"
        : "Let’s build together with MAFA"
    }
    subTitle={
      isFrench
        ? "Des solutions intégrées pour la restauration, la logistique et les services supports partout en Afrique."
        : "Integrated catering, logistics, and support services across Africa."
    }
    url="/contact"
  /> -->
</MainLayout>
